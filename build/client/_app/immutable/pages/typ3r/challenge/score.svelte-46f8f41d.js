import{S as he,i as ue,s as fe,a as k,l as u,r as w,V as _e,h as i,c as W,m as f,n as _,u as y,p as E,b as x,H as t,v as R,f as pe,E as K,K as F,o as me,D as ve,a4 as ge,W as Se,M as Pe,T as we}from"../../../chunks/index-94d693ab.js";import{f as ye}from"../../../chunks/index-b74a06b3.js";import{p as Ee}from"../../../chunks/stores-3bbf04d8.js";import"../../../chunks/navigation-88dbfef8.js";import{e as be,b as ke,t as We,c as Ae,d as Ce}from"../../../chunks/store-87ee3f59.js";import"../../../chunks/singletons-cdeec3fd.js";import"../../../chunks/index-1ec7f5d9.js";const{document:de}=Se;function Ie(o){let r,e;return{c(){r=u("p"),e=u("code"),this.h()},l(l){r=f(l,"P",{class:!0});var h=_(r);e=f(h,"CODE",{class:!0}),_(e).forEach(i),h.forEach(i),this.h()},h(){E(e,"class","placeholder svelte-1954ojp"),E(r,"class","svelte-1954ojp")},m(l,h){x(l,r,h),t(r,e)},p:K,i:K,o:K,d(l){l&&i(r)}}}function je(o){let r,e=o[2].url.searchParams.get("title")+"",l,h;return{c(){r=u("p"),l=w(e),this.h()},l(p){r=f(p,"P",{class:!0});var n=_(r);l=y(n,e),n.forEach(i),this.h()},h(){E(r,"class","svelte-1954ojp")},m(p,n){x(p,r,n),t(r,l)},p(p,n){n&4&&e!==(e=p[2].url.searchParams.get("title")+"")&&R(l,e)},i(p){h||Pe(()=>{h=we(r,ye,{duration:400}),h.start()})},o:K,d(p){p&&i(r)}}}function Me(o){let r,e,l,h,p,n,I,D,H,v,j,N,T=o[3]>1?"words":"word",q,s,d,S,a,A,g,C,L,z=o[4]>1?"words":"word",O,$,M,B,ee,te,V,G,ae,se;function le(c,P){return c[0]?je:Ie}let J=le(o),m=J(o);return{c(){r=k(),e=u("div"),l=u("canvas"),h=w("Sorry, you browser does not support canvas."),p=k(),n=u("h3"),I=u("span"),D=w("Correct:"),H=k(),v=u("span"),j=w(o[3]),N=k(),q=w(T),s=k(),d=u("h3"),S=u("span"),a=w("Wrong:"),A=k(),g=u("span"),C=w(o[4]),L=k(),O=w(z),$=k(),M=u("h3"),B=u("span"),ee=w("Time:"),te=k(),V=u("span"),G=w(o[1]),ae=w(" secs"),se=k(),m.c(),this.h()},l(c){_e('[data-svelte="svelte-6bz1xg"]',de.head).forEach(i),r=W(c),e=f(c,"DIV",{class:!0});var b=_(e);l=f(b,"CANVAS",{id:!0,width:!0,height:!0,class:!0});var oe=_(l);h=y(oe,"Sorry, you browser does not support canvas."),oe.forEach(i),p=W(b),n=f(b,"H3",{class:!0});var Q=_(n);I=f(Q,"SPAN",{});var ne=_(I);D=y(ne,"Correct:"),ne.forEach(i),H=W(Q),v=f(Q,"SPAN",{});var U=_(v);j=y(U,o[3]),N=W(U),q=y(U,T),U.forEach(i),Q.forEach(i),s=W(b),d=f(b,"H3",{class:!0});var X=_(d);S=f(X,"SPAN",{});var ce=_(S);a=y(ce,"Wrong:"),ce.forEach(i),A=W(X),g=f(X,"SPAN",{});var Y=_(g);C=y(Y,o[4]),L=W(Y),O=y(Y,z),Y.forEach(i),X.forEach(i),$=W(b),M=f(b,"H3",{class:!0});var Z=_(M);B=f(Z,"SPAN",{});var ie=_(B);ee=y(ie,"Time:"),ie.forEach(i),te=W(Z),V=f(Z,"SPAN",{});var re=_(V);G=y(re,o[1]),ae=y(re," secs"),re.forEach(i),Z.forEach(i),se=W(b),m.l(b),b.forEach(i),this.h()},h(){de.title="Challenge Score - FCoder",E(l,"id","canvas"),E(l,"width","300"),E(l,"height","209"),E(l,"class","svelte-1954ojp"),E(n,"class","svelte-1954ojp"),E(d,"class","svelte-1954ojp"),E(M,"class","svelte-1954ojp"),E(e,"class","container svelte-1954ojp")},m(c,P){x(c,r,P),x(c,e,P),t(e,l),t(l,h),t(e,p),t(e,n),t(n,I),t(I,D),t(n,H),t(n,v),t(v,j),t(v,N),t(v,q),t(e,s),t(e,d),t(d,S),t(S,a),t(d,A),t(d,g),t(g,C),t(g,L),t(g,O),t(e,$),t(e,M),t(M,B),t(B,ee),t(M,te),t(M,V),t(V,G),t(V,ae),t(e,se),m.m(e,null)},p(c,[P]){P&8&&R(j,c[3]),P&8&&T!==(T=c[3]>1?"words":"word")&&R(q,T),P&16&&R(C,c[4]),P&16&&z!==(z=c[4]>1?"words":"word")&&R(O,z),P&2&&R(G,c[1]),J===(J=le(c))&&m?m.p(c,P):(m.d(1),m=J(c),m&&(m.c(),pe(m,1),m.m(e,null)))},i(c){pe(m)},o:K,d(c){c&&i(r),c&&i(e),m.d()}}}function Ne(o,r,e){let l,h,p,n,I,D;F(o,be,s=>e(1,l=s)),F(o,ke,s=>e(8,h=s)),F(o,We,s=>e(5,p=s)),F(o,Ee,s=>e(2,n=s)),F(o,Ae,s=>e(3,I=s)),F(o,Ce,s=>e(4,D=s));let H=!1,v=null,j=!1;n.url.searchParams.get("title"),me(async()=>{await ve(),document.querySelector("#canvas"),N(),document.addEventListener("keydown",s=>{s.key==="F5"&&n.url.pathname==="/typ3r/score"&&(s.preventDefault(),N())}),setTimeout(()=>{e(0,H=!0)},1e3)}),ge(()=>clearInterval(v));const N=()=>{j&&clearInterval(v);let s=q(),d=0,S=.75*Math.PI,A=(s/200*1.5+.75)*Math.PI;j=!0,v=setInterval(()=>{T(d,canvas,S),S+=A/360,d<s&&d++,S>=A&&(clearInterval(v),j=!1)},10)},T=(s,d,S)=>{let a=d.getContext("2d"),A=.75*Math.PI;a.clearRect(0,0,d.width,d.height);let g=150,C=108,L=100;a.beginPath(),a.arc(g,C,L,A,2.25*Math.PI),a.lineCap="round",a.lineWidth=8,a.strokeStyle="#45475a",a.stroke(),a.beginPath(),a.arc(g,C,L,A,S),a.lineWidth=10,a.strokeStyle="#89b4fa",a.stroke(),a.font="4em Poppins",a.textAlign="center",a.textBaseline="middle",a.fillStyle=p==="dark"?"#cdd6f4":"#1e1e2e",a.fillText(s,g,C),a.stroke(),a.font="2em Poppins",a.fillText("WPM",g,C+55),a.stroke()},q=()=>{let s=h/l;return Math.round(s*60)};return o.$$.update=()=>{o.$$.dirty&32&&N()},[H,l,n,I,D,p]}class Re extends he{constructor(r){super(),ue(this,r,Ne,Me,fe,{})}}export{Re as default};

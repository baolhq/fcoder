import{S as he,i as ue,s as fe,a as A,l as u,r as v,V as _e,h as n,c as C,m as f,n as _,u as S,p as P,b as Z,H as t,v as K,f as de,E as x,K as O,o as me,D as ve,a4 as Se,W as we,M as ye,T as Pe}from"../../chunks/index-94d693ab.js";import{f as Ee}from"../../chunks/index-b74a06b3.js";import{p as ge}from"../../chunks/stores-3bbf04d8.js";import"../../chunks/navigation-88dbfef8.js";import{e as be,b as ke,t as We,c as Ae,d as Ce}from"../../chunks/store-87ee3f59.js";import"../../chunks/singletons-cdeec3fd.js";import"../../chunks/index-1ec7f5d9.js";const{document:pe}=we;function Ie(o){let s,e;return{c(){s=u("p"),e=u("code"),this.h()},l(a){s=f(a,"P",{class:!0});var p=_(s);e=f(p,"CODE",{class:!0}),_(e).forEach(n),p.forEach(n),this.h()},h(){P(e,"class","placeholder svelte-177lsr"),P(s,"class","svelte-177lsr")},m(a,p){Z(a,s,p),t(s,e)},i:x,o:x,d(a){a&&n(s)}}}function Te(o){let s,e,a,p,E,i;return{c(){s=u("p"),e=v("Press "),a=u("code"),p=v("Tab"),E=v(" to restart the test"),this.h()},l(h){s=f(h,"P",{class:!0});var m=_(s);e=S(m,"Press "),a=f(m,"CODE",{class:!0});var I=_(a);p=S(I,"Tab"),I.forEach(n),E=S(m," to restart the test"),m.forEach(n),this.h()},h(){P(a,"class","svelte-177lsr"),P(s,"class","svelte-177lsr")},m(h,m){Z(h,s,m),t(s,e),t(s,a),t(a,p),t(s,E)},i(h){i||ye(()=>{i=Pe(s,Ee,{duration:400}),i.start()})},o:x,d(h){h&&n(s)}}}function Me(o){let s,e,a,p,E,i,h,m,I,w,N,H,q=o[2]>1?"words":"word",L,l,d,g,r,T,y,M,V,R=o[3]>1?"words":"word",j,$,D,B,ee,te,F,z,se,ae;function le(c,k){return c[0]?Te:Ie}let G=le(o),b=G(o);return{c(){s=A(),e=u("div"),a=u("canvas"),p=v("Sorry, you browser does not support canvas."),E=A(),i=u("h3"),h=u("span"),m=v("Correct:"),I=A(),w=u("span"),N=v(o[2]),H=A(),L=v(q),l=A(),d=u("h3"),g=u("span"),r=v("Wrong:"),T=A(),y=u("span"),M=v(o[3]),V=A(),j=v(R),$=A(),D=u("h3"),B=u("span"),ee=v("Time:"),te=A(),F=u("span"),z=v(o[1]),se=v(" secs"),ae=A(),b.c(),this.h()},l(c){_e('[data-svelte="svelte-1wh6xy1"]',pe.head).forEach(n),s=C(c),e=f(c,"DIV",{class:!0});var W=_(e);a=f(W,"CANVAS",{id:!0,width:!0,height:!0,class:!0});var oe=_(a);p=S(oe,"Sorry, you browser does not support canvas."),oe.forEach(n),E=C(W),i=f(W,"H3",{class:!0});var J=_(i);h=f(J,"SPAN",{});var ne=_(h);m=S(ne,"Correct:"),ne.forEach(n),I=C(J),w=f(J,"SPAN",{});var Q=_(w);N=S(Q,o[2]),H=C(Q),L=S(Q,q),Q.forEach(n),J.forEach(n),l=C(W),d=f(W,"H3",{class:!0});var U=_(d);g=f(U,"SPAN",{});var ce=_(g);r=S(ce,"Wrong:"),ce.forEach(n),T=C(U),y=f(U,"SPAN",{});var X=_(y);M=S(X,o[3]),V=C(X),j=S(X,R),X.forEach(n),U.forEach(n),$=C(W),D=f(W,"H3",{class:!0});var Y=_(D);B=f(Y,"SPAN",{});var ie=_(B);ee=S(ie,"Time:"),ie.forEach(n),te=C(Y),F=f(Y,"SPAN",{});var re=_(F);z=S(re,o[1]),se=S(re," secs"),re.forEach(n),Y.forEach(n),ae=C(W),b.l(W),W.forEach(n),this.h()},h(){pe.title="Score - FCoder",P(a,"id","canvas"),P(a,"width","300"),P(a,"height","209"),P(a,"class","svelte-177lsr"),P(i,"class","svelte-177lsr"),P(d,"class","svelte-177lsr"),P(D,"class","svelte-177lsr"),P(e,"class","container svelte-177lsr")},m(c,k){Z(c,s,k),Z(c,e,k),t(e,a),t(a,p),t(e,E),t(e,i),t(i,h),t(h,m),t(i,I),t(i,w),t(w,N),t(w,H),t(w,L),t(e,l),t(e,d),t(d,g),t(g,r),t(d,T),t(d,y),t(y,M),t(y,V),t(y,j),t(e,$),t(e,D),t(D,B),t(B,ee),t(D,te),t(D,F),t(F,z),t(F,se),t(e,ae),b.m(e,null)},p(c,[k]){k&4&&K(N,c[2]),k&4&&q!==(q=c[2]>1?"words":"word")&&K(L,q),k&8&&K(M,c[3]),k&8&&R!==(R=c[3]>1?"words":"word")&&K(j,R),k&2&&K(z,c[1]),G!==(G=le(c))&&(b.d(1),b=G(c),b&&(b.c(),de(b,1),b.m(e,null)))},i(c){de(b)},o:x,d(c){c&&n(s),c&&n(e),b.d()}}}function Ne(o,s,e){let a,p,E,i,h,m;O(o,be,l=>e(1,a=l)),O(o,ke,l=>e(7,p=l)),O(o,We,l=>e(4,E=l)),O(o,ge,l=>e(8,i=l)),O(o,Ae,l=>e(2,h=l)),O(o,Ce,l=>e(3,m=l));let I=!1,w=null,N=!1;i.url.searchParams.get("title"),me(async()=>{await ve(),document.querySelector("#canvas"),H(),document.addEventListener("keydown",l=>{l.key==="F5"&&i.url.pathname==="/typ3r/score"&&(l.preventDefault(),H())}),setTimeout(()=>{e(0,I=!0)},1e3)}),Se(()=>clearInterval(w));const H=()=>{N&&clearInterval(w);let l=L(),d=0,g=.75*Math.PI,T=(l/200*1.5+.75)*Math.PI;N=!0,w=setInterval(()=>{q(d,canvas,g),g+=T/360,d<l&&d++,g>=T&&(clearInterval(w),N=!1)},10)},q=(l,d,g)=>{let r=d.getContext("2d"),T=.75*Math.PI;r.clearRect(0,0,d.width,d.height);let y=150,M=108,V=100;r.beginPath(),r.arc(y,M,V,T,2.25*Math.PI),r.lineCap="round",r.lineWidth=8,r.strokeStyle="#45475a",r.stroke(),r.beginPath(),r.arc(y,M,V,T,g),r.lineWidth=10,r.strokeStyle="#89b4fa",r.stroke(),r.font="4em Poppins",r.textAlign="center",r.textBaseline="middle",r.fillStyle=E==="dark"?"#cdd6f4":"#1e1e2e",r.fillText(l,y,M),r.stroke(),r.font="2em Poppins",r.fillText("WPM",y,M+55),r.stroke()},L=()=>{let l=p/a;return Math.round(l*60)};return o.$$.update=()=>{o.$$.dirty&16&&H()},[I,a,h,m,E]}class Re extends he{constructor(s){super(),ue(this,s,Ne,Me,fe,{})}}export{Re as default};
